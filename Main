#include <iostream>
#include <string>
#include <fstream>
using namespace std;

struct StudProf{
  string studentID;
  string name;
  string birthday;
  string address;
  string gender;
  string degreeProgram;
  int yearLevel;
};

struct Node{
    StudProf profile;
    Node *next;
};

Node *head = nullptr;

void addRecord(fstream &file){
    Student newStudent;
    count << "Enter Student ID: ";
    cin >> newStudent.id;
    cin.ignore();

    cout << "Enter Full Name: ";
    getlne(cin, newStudent.name);

    cout << "Enter Birthday (YYYY|MM|DD): ";
    getlne(cin, newStudent.birthday);

    cout << "Enter Address: ";
    getlne(cin, newStudent.address);

    cout << "Enter Gender: ";
    getlne(cin, newStudent.gender);

    cout << "Enter Degree Program (e.g Bachelor of Science in Computer Science): ";
    getlne(cin, newStudent.degree);

    cout << "Enter Year Level: ";
    getlne(cin, newStudent.year_level);

    file << newStudent.name << "," << newStudent.birthday << "," << newStudent.address << "," 
    << newStudent.gender << "," << newStudent.degree << "," << newStudent.year_level << '\n';

    cout << "Record Added Successfully!\n";
}
newstudent.id

void studName(const StudProf& profile){
    Node *newNode = newNode;
    newNode->profile = profile;
    newNode->next = head;
    head = newNode;
}

void displayMenu(){//displaying the menu of our program by being in a function that can be called and looped
    int userInput;
    cout << "Welcome to Group# Student Portal\n";
    cout << "-----------------------------------------\n";
    cout << "Pick from the numerous choices:\n";
    cout << "-----------------------------------------\n";
    cout << "1. Add Records\n";
    cout << "2. Search Records\n";
    cout << "3. Display All Records\n";
    cout << "4. Display Specific Records\n";
    cout << "5. Delete Record\n";
    cout << "6. Exit\n";
    cout << "-----------------------------------------\n";
    cout << "Please Type Your Choice:\n";
    cout << "-----------------------------------------\n";


}

void exitProgram(){//display the exit and the authors of our program
    cout << "Thank you for using Group# Student Portal\n";
    cout << "Group Members:\n";
    cout << "-----------------------------------------\n";
    cout << "1. Azarraga, Dwayne Antoine Benjamin C.\n";
    cout << "2. Eleptico, Genesis Rilly C.\n";
    cout << "3. Pascual, Shaun Robert T.\n";
    cout << "4. Soriano, Jermaine Rikko C.\n";
    cout << "-----------------------------------------\n";
}

int main(){

    fstream file("student.txt", ios::in | ios::out | ios::app);
    if (!file){
        cout << "unable to open file." << endl;
        return 1;
    }

    int choice;

    while (true)
    {
        cout << "\nWelcome to Group Pr0gr@mm@z Student Information System" << endl;
        cout << "What do you want to do" << endl;
        cout << "1. Add New Record" << endl;
        cout << "2. Search Record" << endl;
        cout << "3. Display All Records" << endl;
        cout << "4. Display Specific Records" << endl;
        cout << "5. Delete Records" << endl;
        cout << "6. Exit" << endl;
        cout << "\nPlease Type Your Selection: ";

    if(!(cin >> choice)){
            handleInvalidInput();
            continue;
        }
        
        int choice;
        switch (choice)
        {
        case 1
            addRecord(file);
            break;
        case 2
            searchRecord(file);
            break;
        case 3
            displayRecords(file);
            break;
        case 4
            displayRecords(file);
            break;
        case 5
            deleteRecord(file);
            break;
        case 6
            exitProgram(file);
            file.close();
            return 0;
    
        default:
            cout << "Invalid choice, please try again." << endl;
        }
    }

    file.close();
    return 0;
}
